////////////////////////////////////////////////
// File:	APIRequest.h
//
// Author:	Liam Russell (A.K.A. BitSlapper)
//
// Copyright:	2014-2015 Liam Russell
//
// License:	GNU GENERAL PUBLIC LICENSE V3
//////////////////////////////////////////////

#ifndef _APIREQUEST_H_
#define _APIREQUEST_H_

#include <string>
#include <vector>
#include <map>

#include "../base/Entity.h"
#include "Request.h"
#include "HttpConnection.h"

class APIRequest : public Entity
{

private:

	std::string							m_szCommand;
	std::map<std::string, std::string>  m_mapParameters;
	Http::Server::Request::RequestType  m_enmRequestType;

	///////////////////////////////////////////////////////////////////////////////
	//Copy Constructor
	///////////////////////////////////////////////////////////////////////////////
	APIRequest(const APIRequest& apiRequest) {}

	///////////////////////////////////////////////////////////////////////////////
	//Assignment Operator
	///////////////////////////////////////////////////////////////////////////////
	APIRequest& operator=(const APIRequest& apiRequest) { return *this; }

public:

	//////////////////////////////////////////////////////////////////////////////
	//Constructor
	///////////////////////////////////////////////////////////////////////////////
	APIRequest();

	//////////////////////////////////////////////////////////////////////////////
	//Constructor
	///////////////////////////////////////////////////////////////////////////////
	APIRequest(	Http::Server::Request::RequestType enmRquestType, 
				std::string szCommand, 
				std::map<std::string, std::string> mapParameters);
	
	///////////////////////////////////////////////////////////////////////////////
	//Destructor
	///////////////////////////////////////////////////////////////////////////////
	~APIRequest();

	///////////////////////////////////////////////////////////////////////////////
	//Accessors
	///////////////////////////////////////////////////////////////////////////////
	const Http::Server::Request::RequestType	GetRequestType()	const			{ return this->m_enmRequestType;			}	
	const std::string&							GetCommand()		const			{ return this->m_szCommand;					}
	const std::map<std::string, std::string>&	GetParameters()		const			{ return this->m_mapParameters;				}

	///////////////////////////////////////////////////////////////////////////////
	//Mutators
	///////////////////////////////////////////////////////////////////////////////
	void SetRequestType(const Http::Server::Request::RequestType& enmRequestType)	{ this->m_enmRequestType = enmRequestType;	}
	void SetCommand(const std::string& szCommand)									{ this->m_szCommand = szCommand;			}
	void SetParameters(const std::map<std::string, std::string>& mapParameters)		{ this->m_mapParameters = mapParameters;	}

	std::vector<std::string> ParametersAsList();
};


#endif //_APIREQUEST_H_